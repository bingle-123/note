# session 和cookie的区别和联系，以及在项目中式如何应用的？？ #

     会话，指用户登录网站后的一系列动作，比如浏览商品添加到购物车并购买。  
     会话（Session）跟踪是Web程序中常用的技术，用来跟踪用户的整个会话。
     
     常用的会话跟踪技术是Cookie与Session。Cookie通过在客户端记录信息确定用户身份，Session通过在服务器端记录信息确定用户身份。Session是另一种记录客户状态的机制，不同的是Cookie保存在客户端浏览器中，而Session保存在服务器上。客户端浏览器访问服务器的时候，服务器把客户端信息以某种形式记录在服务器上。这
就是Session。客户端浏览器再次访问时只需要从该Session中查找该客户的状态就可以了。每个用户访问服务器都会建立一个session.

### 那服务器是怎么标识用户的唯一身份呢？ ###

事实上，用户与服务器建立连接的同时，服务器会自动为其分配一个SessionId。

- 1、cookie数据存放在客户的浏览器上，session数据放在服务器上。
- 2、cookie不是很安全，别人可以分析存放在本地的cookie并进行cookie欺骗，考虑到安全应当使用session。
- 3、session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能，考虑到减轻服务器性能方面，应当使用cookie。
- 4、单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。
- 5、可以考虑将登陆信息等重要信息存放为session，其他信息如果需要保留，可以放在cookie中。

打个比方说吧，当我们在浏览器当中第一次登陆某个网址时，是没有cookie的，服务器发生反应的时候，会在服务器中生成一个sessionid，储存在cookie当中，然后告诉浏览器可以将cookie储存在本地，以便下一次访问。
当第二次发送request请求的时候，浏览器会携带cookie，cookie当中就有我们第一次访问时候的sessionid,服务器根据sessionid就能够判断是哪个用户在访问。
另外，http是一个无状态的机制，服务器为了能够记住用户的状态，就要通过某种机制，这种机制其实就是我们所说的cookie和session的机制，主要是session机制，cookie机制主要是起辅助的作用，配合session机制来使用的，session 可以保存在数据库库中，也可以保存在某个文件当中，或者说是保存在内存当中等等。
比如：要购买东西的时候要记住购买者的购买状态以及购物车的状态，就需要session机制来进行跟踪和记录，用来跟踪用户的状态以及追踪记录。异常退出的时候，服务器并不会立即把session信息删除，要等待过期时间，如果重新登陆的时候会再次生成session信息。

### cookie 的max_age属性： ###

- maxAge 可以为正数，表示此cookie从创建到过期所能存在的时间，以秒为单位，此cookie会存储到客户端电脑，以cookie文件形式保存，不论关闭浏览器或关闭电脑，直到时间到才会过期。
- max_age可以为负数，表示此cookie只是存储在浏览器内存里，只要关闭浏览器，此cookie就会消失。maxAge默认值为-1。
- max_age还可以为0，表示从客户端电脑或浏览器内存中删除此cookie。
